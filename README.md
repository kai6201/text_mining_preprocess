# text_mining_preprocess
社群文字資料前處理

## 排除抽獎活動文
檔案名稱：lottery_labeled.R

對於社群輿情資料進行分析時，無實質討論意義且文字描述皆相同的抽獎活動文，會造成分析時嚴重的偏誤，故撰寫排除抽獎活動文的程式；接著，因為抽獎活動文的回覆用詞皆相似，故將相同主題下的回文進行相似性分析，若回文間的相似性超過特定門檻，即判定為抽獎文並排除，步驟簡述如下：<br>
步驟1.利用Jieba將回文進行斷詞，並篩選重要關鍵字。<br>
步驟2.將各回文出現重要關鍵字的詞頻數值，組成矩陣A。<br>
步驟3.利用餘弦定理計算矩陣A回文間的相似性，若高於設定門檻即排除。<br>

## 轉化為結構性的數值資料
檔案名稱：jieba_ngram.R

組成「行為文章、列為關鍵字」的矩陣，其中數值包含詞頻或文章數，步驟簡述如下：<br>
步驟1.利用Jieba將文字資料進行斷詞，並使用N-gram組合不同的斷詞結果，藉此探索網友討論的新興用詞。<br>
步驟2.將各篇文字資料出現關鍵字的詞頻與文章數數值，組成矩陣A。<br>
步驟3.篩選保留詞頻與文章數高於門檻的關鍵字，組成矩陣B並進行後續分析。<br>

## 關鍵字關聯探索
檔案名稱：PMI_TFIDF.R

初步計算PMI與TF-IDF，作為後續分析或建模參考使用，步驟簡述如下：<br>
步驟1.承上，將矩陣B的文章數數值，計算各關鍵字間的PMI(Pointwise  Mutual  Information)，探索關鍵字間的相關性，並使用ggraph及ggplot2自動化繪製關鍵字關聯圖，方便瞭解關鍵字間的關聯性。<br>
步驟2.將矩陣B的詞頻數值，進一步計算為TF-IDF的矩陣，以利後續「分析、建模或摘要」參考使用。<br>
